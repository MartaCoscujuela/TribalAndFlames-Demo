<!-- titulo -->
<!-- foto -->
<!-- descripcion -->
<!-- precio -->
<!-- link -->

<div class="container">
  <div class="card">
    <app-error [status]="status"></app-error>

    <form [formGroup]="form" class="p-3" (ngSubmit)="onSubmit()">
      <div class="form-data col-lg-6 p-0">
        <div class="form-group row mb-2 col-12 p-0">
          <label for="title" class="col-form-label col-12 p-0">Título</label>
          <div class="col-sm-12 p-0">
            <input formControlName="title" type="text" class="form-control" id="title" placeholder="Título" />
            <small
              class="col-12"
              *ngIf="form.controls.title.errors && (form.controls.title.touched || status === 'postingErr')"
            >
              El campo no puede estar vacío
            </small>
          </div>
        </div>

        <div class="form-group row col-12 p-0">
          <label for="url" class="col-12 col-form-label p-0">Url del vídeo</label>
          <div class="col-12 mb-2 p-0">
            <input
              formControlName="url"
              type="text"
              class="form-control"
              id="url"
              placeholder="https://www.vimeo.com"
            />
          </div>
        </div>
        <small
          class="col-12"
          *ngIf="form.controls.url.errors && (form.controls.url.touched || status === 'postingErr')"
        >
          Introduce una url válida
        </small>

        <div class="form-group row mb-2 col-12 p-0">
          <label for="desciption" class="col-12 col-form-label p-0">Descripción</label>
          <div class="col-12 p-0">
            <p-editor formControlName="description" [style]="{ height: '100px' }" class="p-0">
              <p-header>
                <span class="ql-formats">
                  <button class="ql-bold" aria-label="Bold"></button>
                  <button class="ql-italic" aria-label="Italic"></button>
                  <button class="ql-underline" aria-label="Underline"></button>
                </span>
                <span class="ql-formats">
                  <button aria-label="Link" class="ql-link"></button>
                </span>
              </p-header>
            </p-editor>
          </div>
        </div>

        <div class="form-group row col-12 p-0">
          <label for="url" class="col-12 col-form-label p-0">Precio</label>
          <div class="col-12 mb-2 p-0">
            <input formControlName="price" type="text" class="form-control" id="url" placeholder="15€" />
          </div>
        </div>
      </div>
      <div class="img-data col-lg-6 p-0 p-md-3">
        <div>
          <div class="image-preview">
            <label for="url" class="col-12 col-form-label p-0 m-0">Thumbnail</label>
            <img *ngIf="preview" [src]="preview" alt="thumbnail" />

            <small class="col-12" *ngIf="imageError"> Escoge una imágen de thumbnail válida </small>
          </div>
          <button class="btn btn-primary m-2 m-0" (click)="filePicker.click()" type="button">Cambiar imagen</button>
          <input id="thumbnail" type="file" #filePicker (change)="onImagePicked($event)" />
        </div>
      </div>
      <button class="btn btn-primary mb-3">Guardar</button>
    </form>
    <div class="card-footer text-muted"></div>
  </div>
</div>
